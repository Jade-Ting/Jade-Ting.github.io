---
layout: post
title:  "åœ¨é¡¹ç›®ä¸­ä½¿ç”¨CDN"
date: 2020-01-13 10:56:16 +0800
tags: cdn
color: rgb(0,170,144)
cover: '../assets/image/2020-01-13.jpg'
subtitle: 'åœ¨é¡¹ç›®ä¸­å¼•å…¥cdn~ğŸ˜'
---

- å¼•å…¥æŸä¸ªä¾èµ–çš„cdnåªæ˜¯ä¸ºäº†æ‰“åŒ…ä¸Šçº¿ä¹‹åï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ script çš„æ–¹å¼å»è®¿é—®è¿™äº›ä¾èµ–ï¼Œå› æ­¤æ‰“åŒ…çš„æ—¶å€™å¯ä»¥ä¸ç”¨æ‰“åŒ…è¿™äº›ä¾èµ–ï¼Œå°±å¯ä»¥å¤§å¤§çš„å‡å°‘åŒ…çš„ä½“ç§¯ã€‚
- ã€æ³¨æ„ã€‘ åœ¨å¼€å‘ç¯å¢ƒä¸­è¿˜éœ€è¦å®‰è£…ç›¸å…³çš„ä¾èµ–ã€‚

1. å¼•å…¥cdnï¼šåœ¨å…¥å£æ–‡ä»¶ä½¿ç”¨ script å¼•å…¥å¯¹åº”ä¾èµ–å¯¹åº”ç‰ˆæœ¬çš„cdn

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <title>Ant Design Pro</title>
    <link rel="icon" href="/favicon.png" type="image/x-icon" />

    <!-- å¼•å…¥å¯¹åº”åŒ…çš„cdn -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.5.0/dist/g2.min.js"></script>

  </head>
  <body>
    <noscript>Sorry, we need js to run correctly!</noscript>
    <div id="root"></div>
  </body>
</html>
```

2. é…ç½® webpack, ä½¿å·²ç»å¼•å…¥cdnçš„åŒ…ä¸è¢«æ‰“åŒ…

```js
export default {
 ...,
 
  output: {
    libraryTarget: 'umd',
  },
  
  <!--é…ç½®externals å°†éœ€è¦å¿½ç•¥æ‰“åŒ…çš„éƒ½å†™åœ¨è¿™ä¸ªé‡Œé¢ï¼Œä½†å‰ææ˜¯index.htmlæ–‡ä»¶é‡Œé¢å¿…é¡»scriptå¼•å…¥-->
  externals: {
  // åé¢æ˜¯åŸæœ¬ä½¿ç”¨çš„å…¨å±€å˜é‡åï¼Œå‰é¢çš„æ˜¯å¼•å…¥çš„åŒ…åï¼ˆå°±æ˜¯import xx from 'moment'ï¼‰ï¼Œç„¶åæˆ‘ä»¬å®é™…å†™ä»£ç æ—¶å€™ï¼Œç”¨çš„æ˜¯xxè¿™ä¸ªå˜é‡åã€‚
    moment: 'moment',   
    '@antv/g2': 'G2',
  },
  
  // webpackå°±ä¼šåœ¨é‡åˆ°å¼•ç”¨momentæˆ–è€…@antv/g2çš„æ¨¡å—æ—¶ï¼Œä¸å°†å…¶æ‰“åŒ…å…¥bundle.jsä¸­ã€‚æ‰€ä»¥momentæˆ–@antv/g2ä»£è¡¨çš„æ˜¯æ¨¡å—åï¼Œä¸€å®šä¸èƒ½å†™é”™ã€‚æ¨¡å—åå‚ç…§package.jsonä¸­çš„åŒ…çš„åç§°
  
  ...
};
```